webpackJsonp([0],{1128:function(e,r,t){"use strict";function n(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(o,a){try{var i=r[o](a),s=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}Object.defineProperty(r,"__esModule",{value:!0});var o=t(111),a=t(60),i=t(242),s=t.n(i),u=t(153),l=(t.n(u),t(240)),c=t.n(l),f=t(152),p=t(154),d=t(1131),v=t(241),m=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},g=function(e,r){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}(["\n  mutation CreateUser($user: CreateUserInput!) {\n    createUser(input: $user) {\n      token\n    }\n  }\n"],["\n  mutation CreateUser($user: CreateUserInput!) {\n    createUser(input: $user) {\n      token\n    }\n  }\n"]),h=function(e){return{currentView:e.views.currentView,userIsAuthenticated:e.userAuth.isAuthenticated,mutationLoading:e.userAuth.mutationLoading,error:e.userAuth.error}},b=function(e){return Object(a.bindActionCreators)(m({},f,p),e)},w=s()(g),y={props:function(e){var r=e.ownProps,t=e.mutate;return{registerUser:function(e){var o=this;return n(regeneratorRuntime.mark(function n(){var a,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r.setLoadingStateForUserRegister(),n.prev=1,a={variables:m({},e)},n.next=5,t(a);case 5:return i=n.sent,s=i.data.createUser.token,r.receivedUserRegister(s,e),r.unsetLoadingStateForUserRegister(),n.abrupt("return",Promise.resolve());case 12:return n.prev=12,n.t0=n.catch(1),r.errorUserRegister(n.t0),r.unsetLoadingStateForUserRegister(),n.abrupt("return",Promise.reject(n.t0));case 17:case"end":return n.stop()}},n,o,[[1,12]])}))()}}}};r.default=c()(Object(v.a)(),Object(o.connect)(h,b),Object(u.graphql)(w,y))(d.a)},1131:function(e,r,t){"use strict";function n(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(o,a){try{var i=r[o](a),s=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function a(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function i(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}var s=t(0),u=(t.n(s),t(112)),l=t(61),c=t(247),f=(t(52),t(245)),p=(t.n(f),function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(r,t,n,o){var a=r&&r.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),l=0;l<i;l++)u[l]=arguments[l+3];t.children=u}return{$$typeof:e,type:r,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}}()),d=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),v=function(e,r){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}(["\n  margin-left: 10px;\n"],["\n  margin-left: 10px;\n"]),m=u.b.button(v),g=p("legend",{},void 0,"Register"),h=p("label",{htmlFor:"inputEmail",className:"col-lg-2 control-label"},void 0,"Email"),b=p("label",{htmlFor:"inputPassword",className:"col-lg-2 control-label"},void 0,"Password"),w=p(l.Link,{className:"btn btn-default",to:"/"},void 0,"Cancel"),y=function(e){function r(){var e,t,i,s,u=this;o(this,r);for(var l=arguments.length,c=Array(l),f=0;f<l;f++)c[f]=arguments[f];return t=i=a(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(c))),i.state={viewEntersAnim:!0,email:"",password:"",warning:null},i.handlesOnEmailChange=function(e){if(e){e.preventDefault();var r=e.target.value;i.setState({email:r})}},i.handlesOnPasswordChange=function(e){e&&(e.preventDefault(),i.setState({password:e.target.value}))},i.handlesOnRegister=function(){var e=n(regeneratorRuntime.mark(function e(r){var t,n,o,a,s,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&r.preventDefault(),t=i.props,n=t.registerUser,o=t.history,a=i.state,s=a.email,l=a.password,c={username:s,password:l},i.setState({warning:null}),i.isValidEmail(s)){e.next=8;break}return i.setState({warning:{message:"Email is not valid."}}),e.abrupt("return");case 8:if(i.isValidPassword(l)){e.next=11;break}return i.setState({warning:{message:"Password is empty or not valid."}}),e.abrupt("return");case 11:return e.prev=11,e.next=14,n({user:c});case 14:o.push({pathname:"/protected"}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(11),console.log("register user went wrong..., error: ",e.t0);case 20:case"end":return e.stop()}},e,u,[[11,17]])}));return function(r){return e.apply(this,arguments)}}(),i.closeError=function(e){e&&e.preventDefault()},i.closeWarning=function(e){e&&e.preventDefault(),i.setState({warning:null})},s=t,a(i,s)}return i(r,e),d(r,[{key:"componentDidMount",value:function(){(0,this.props.enterRegister)()}},{key:"componentWillUnmount",value:function(){(0,this.props.leaveRegister)()}},{key:"render",value:function(){var e=this.state,r=e.email,t=e.password,n=e.warning,o=this.props,a=o.mutationLoading,i=o.error;return p("div",{},void 0,p("div",{className:"row"},void 0,p("div",{className:"col-md-4 col-md-offset-4"},void 0,p("form",{className:"form-horizontal",noValidate:!0},void 0,p("fieldset",{},void 0,g,p("div",{className:"form-group"},void 0,h,p("div",{className:"col-lg-10"},void 0,p("input",{type:"text",className:"form-control",id:"inputEmail",placeholder:"Email",value:r,onChange:this.handlesOnEmailChange}))),p("div",{className:"form-group"},void 0,b,p("div",{className:"col-lg-10"},void 0,p("input",{type:"password",className:"form-control",id:"inputPassword",placeholder:"Password",value:t,onChange:this.handlesOnPasswordChange}))),p("div",{className:"form-group"},void 0,p("div",{className:"col-lg-10 col-lg-offset-2"},void 0,w,p(m,{className:"btn btn-primary",disabled:a,onClick:this.handlesOnRegister},void 0,"Register"))))),p("div",{style:{height:"150px"}},void 0,p(c.d,{showAlert:!!n,warningTitle:"Warning",warningMessage:n?n.message:"",onClose:this.closeWarning}),p(c.b,{showAlert:!!i,errorTitle:"Error",errorMessage:i?i.message:"",onClose:this.closeError})))))}},{key:"isValidEmail",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!!(e&&e.trim().length>0)}},{key:"isValidPassword",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!!(e&&e.trim().length>0)}}]),r}(s.PureComponent);r.a=y}});